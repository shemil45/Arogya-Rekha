<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Select Language | Worker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="../../css/main.css" />
    <link rel="stylesheet" href="../../css/mobile.css" />
    
    <style>
      /* Dark Theme Styles */
      [data-theme="dark"] {
        --bg-primary: #1a1a1a;
        --bg-secondary: #2d2d2d;
        --bg-card: #3a3a3a;
        --text-primary: #ffffff;
        --text-secondary: #b0b0b0;
        --border-color: #4a4a4a;
        --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      }
      
      [data-theme="dark"] body {
        background-color: var(--bg-primary);
        color: var(--text-primary);
      }
      
      [data-theme="dark"] .language-btn {
        background-color: var(--bg-card);
        border-color: var(--border-color);
        color: var(--text-primary);
      }
      
      [data-theme="dark"] .language-btn:hover {
        background-color: var(--border-color);
        color: var(--text-primary);
      }
      
      [data-theme="dark"] .language-btn.active {
        background-color: #4dabf7;
        border-color: #4dabf7;
        color: white;
      }
      
      [data-theme="dark"] .text-muted {
        color: var(--text-secondary) !important;
      }
      
      [data-theme="dark"] .btn-outline-secondary {
        color: var(--text-secondary);
        border-color: var(--border-color);
      }
      
      [data-theme="dark"] .btn-outline-secondary:hover {
        background-color: var(--border-color);
        color: var(--text-primary);
      }
      
      /* Light Theme (Default) */
      [data-theme="light"] {
        --bg-primary: #ffffff;
        --bg-secondary: #f8f9fa;
        --bg-card: #ffffff;
        --text-primary: #212529;
        --text-secondary: #6c757d;
        --border-color: #dee2e6;
        --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="container py-4" style="max-width: 560px;">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="../../index.html" class="text-decoration-none small">&larr; Home</a>
        <button class="btn btn-outline-secondary btn-sm" onclick="toggleTheme()">
          <span id="themeIcon">üåô</span> <span id="themeText">Dark</span>
        </button>
      </div>
      <h1 class="h4 text-center fw-bold mb-3">‡¥≠‡¥æ‡¥∑ ‡¥§‡¥ø‡¥∞‡¥û‡µç‡¥û‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡µÅ‡¥ï | ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç | ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h1>
      <p class="text-center text-muted small">Choose your preferred language</p>

      <div class="language-grid mt-4">
        <button class="language-btn tap-target" data-lang="en">English</button>
        <button class="language-btn tap-target" data-lang="ml">Malayalam (‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç)</button>
        <button class="language-btn tap-target" data-lang="hi">Hindi (‡§π‡§ø‡§Ç‡§¶‡•Ä)</button>
        <button class="language-btn tap-target" data-lang="bn">Bengali (‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ)</button>
        <button class="language-btn tap-target" data-lang="or">Odia (‡¨ì‡¨°‡¨ø‡¨Ü)</button>
        <button class="language-btn tap-target" data-lang="ta">Tamil (‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç)</button>
      </div>

      <div class="d-grid mt-4">
        <a id="continueBtn" class="btn btn-success btn-lg disabled" href="#">Continue</a>
      </div>

      <div class="app-toast" role="status" aria-live="polite"></div>
    </div>

    <script src="../../js/data.js"></script>
    <script src="../../js/main.js"></script>
    <script>
      const buttons = document.querySelectorAll('.language-btn');
      const continueBtn = document.getElementById('continueBtn');
      let selected = null;

      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          buttons.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          selected = btn.getAttribute('data-lang');
          localStorage.setItem(App.STORAGE_KEYS.language, selected);
          continueBtn.classList.remove('disabled');
        });
      });

      continueBtn.addEventListener('click', (e) => {
        if (!selected) { e.preventDefault(); App.showToast('Please select a language', 'error'); return; }
        continueBtn.setAttribute('href', './register.html');
      });
      
      // Theme toggle functionality
      function toggleTheme() {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        
        // Set new theme
        document.documentElement.setAttribute('data-theme', newTheme);
        
        // Update button text and icon
        const themeIcon = document.getElementById('themeIcon');
        const themeText = document.getElementById('themeText');
        
        if (newTheme === 'dark') {
          themeIcon.textContent = '‚òÄÔ∏è';
          themeText.textContent = 'Light';
        } else {
          themeIcon.textContent = 'üåô';
          themeText.textContent = 'Dark';
        }
        
        // Save theme preference
        localStorage.setItem('theme', newTheme);
      }
      
      // Initialize theme on page load
      function initializeTheme() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        
        // Update button to show current theme
        const themeIcon = document.getElementById('themeIcon');
        const themeText = document.getElementById('themeText');
        
        if (savedTheme === 'dark') {
          themeIcon.textContent = '‚òÄÔ∏è';
          themeText.textContent = 'Light';
        } else {
          themeIcon.textContent = 'üåô';
          themeText.textContent = 'Dark';
        }
      }
      
      // Initialize theme when page loads
      document.addEventListener('DOMContentLoaded', initializeTheme);
    </script>
  </body>
  </html>

